acme-chief (0.35-1) buster-wikimedia; urgency=medium

  * limit jinja2, itsdangerous and werkzeug version
  * api: support sha256 checksums
  * api: Offer JSON for metadata if requested
  * readme: Add general notes for testing deps
  * acme-chief: Unlink certificate renewal and OCSP handling

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Mon, 07 Nov 2022 12:54:38 +0100

acme-chief (0.34-1) buster-wikimedia; urgency=medium

  * acme_chief: auto-detect systemd watchdog

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Fri, 15 Oct 2021 11:44:39 +0200

acme-chief (0.33-1) buster-wikimedia; urgency=medium

  * acme_chief: Add systemd based watchdog support

 -- vgutierrez <vgutierrez@wikimedia.org>  Thu, 14 Oct 2021 11:11:59 +0200

acme-chief (0.32-1) buster-wikimedia; urgency=medium

  Adopt f-strings
  acme_chief,api: Provide .alt.chained.crt.key.ocsp

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Tue, 05 Oct 2021 11:07:23 +0200

acme-chief (0.31-1) buster-wikimedia; urgency=medium

  api: Fix destination on symlinks to files

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Mon, 13 Sep 2021 16:18:50 +0200

acme-chief (0.30-1) buster-wikimedia; urgency=medium

  embrace latest pylint recommendations
  acme_chief,api: Provide .chained.crt.key.ocsp

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Mon, 13 Sep 2021 13:05:28 +0200

acme-chief (0.29-1) buster-wikimedia; urgency=medium

  Handle new pylint raise-missing-from
  x509: Alternative chain support
  requests: Fetch alternative chains
  acme_chief: Save alternative chains
  api: Allow acme-chief clients to fetch alt. chain cert versions

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Thu, 17 Sep 2020 10:51:26 +0000

acme-chief (0.28-1) buster-wikimedia; urgency=medium

  api: Exclude not valid parts from get_directory_metadata output

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Tue, 04 Aug 2020 10:18:05 +0000

acme-chief (0.27-1) buster-wikimedia; urgency=medium

  acme_chief: Provide .chained.crt.key file support
  api: Allow acme-chief clients to fetch .chained.crt.key files

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Thu, 30 Jul 2020 11:08:32 +0000

acme-chief (0.26-1) buster-wikimedia; urgency=medium

  acme_chief,x509: Provide .crt.key file support
  api: Allow acme-chief clients to fetch .crt.key files

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Mon, 15 Jun 2020 12:36:55 +0000

acme-chief (0.25-1) buster-wikimedia; urgency=medium

  acme_chief: Handle OCSP Request issues
  tests: use unittest.mock instead of the 3rd party mock module

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Fri, 15 May 2020 17:42:39 +0000

acme-chief (0.24-1) buster-wikimedia; urgency=medium

  requests: Fix content-type on fetch_certificate

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Wed, 05 Feb 2020 14:20:45 +0000

acme-chief (0.23-1) buster-wikimedia; urgency=medium

  requests: Use POST-as-GET to fetch the issued certificate

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Wed, 05 Feb 2020 13:03:04 +0000

acme-chief (0.22-1) buster-wikimedia; urgency=medium

  dns-01: Support custom DNS server port
  acme_chief: Fix newly reported pylint R1724 (no-else-continue)

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Tue, 04 Feb 2020 12:44:37 +0000

acme-chief (0.21-1) buster-wikimedia; urgency=medium

  x509: Expose the OCSP URI of a Certificate as a property
  ocsp: Provide basic functionality to perform OCSP requests
  ocsp: Allow to load an existing OCSPResponse from disk
  ocsp: Provide basic test coverage
  acme_chief: Provide OCSP responses

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Thu, 12 Sep 2019 07:14:11 +0000

acme-chief (0.20-1) buster-wikimedia; urgency=medium

  acme_chief: Save the certificate using the 3 save modes on issuance time

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Fri, 02 Aug 2019 11:36:27 +0700

acme-chief (0.19-1) buster-wikimedia; urgency=medium

  acme_chief: Avoid retrying too eagerly on CERTIFICATE_STAGED status

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Fri, 12 Jul 2019 13:05:25 +0700

acme-chief (0.18-1) buster-wikimedia; urgency=medium

  acme_chief: Enforce staging time validation

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Thu, 04 Jul 2019 14:41:50 +0700

acme-chief (0.17-1) buster-wikimedia; urgency=medium

  config: Move ACMEChiefConfig to its own module
  dns: Move DNS operations to its own module
  CI: Run tests with minimum and latest dependencies
  acme_chief: Prevalidate CN/SNI list

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Tue, 28 May 2019 10:33:48 +0200

acme-chief (0.16-1) buster-wikimedia; urgency=medium

  acme_requests: Validate dns-01 challenges against all the DNS servers

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Thu, 11 Apr 2019 16:33:22 +0200

acme-chief (0.15-1) buster-wikimedia; urgency=medium

  api: Fix file_metadata for /puppet/v3/file_metadata/acmedata/{certname}/{part}

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Thu, 21 Mar 2019 12:41:27 +0100

acme-chief (0.14-1) buster-wikimedia; urgency=medium

  Get rid of the no-break space that got in the Requirements section title

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Tue, 19 Mar 2019 17:34:39 +0100

acme-chief (0.13-1) buster-wikimedia; urgency=medium

  Ensure that the CN is part of the SNI list for certs config
  api: Add support for puppet HTTP API search operation
  Use relative symlinks for the live one

 -- Alex Monk <krenair@gmail.com>  Tue, 19 Mar 2019 15:56:29 +0000

acme-chief (0.12-1) buster-wikimedia; urgency=medium

  Avoid unneeded calls to _push_live_certificate()

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Mon, 18 Mar 2019 11:05:29 +0100

acme-chief (0.11-1) buster-wikimedia; urgency=medium

  Store certificates in unique directories

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Fri, 15 Mar 2019 12:37:39 +0100

acme-chief (0.10-1) buster-wikimedia; urgency=medium

  acme-chief: Bump to buster

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Wed, 13 Feb 2019 07:25:05 +0100

acme-chief (0.9-1) stretch-wikimedia; urgency=medium

  Rename certcentral to acme-chief
  Implement staging time

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Tue, 12 Feb 2019 09:37:10 +0100

certcentral (0.8-1) stretch-wikimedia; urgency=medium

  Handle TCP/HTTPS errors in ACME directory requests
  Bump acme to the latest version shipped in stretch-backports
  Bump josepy to the latest version shipped in stretch-backports
  Allow specifying authorized hosts and regex in the config

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Thu, 17 Jan 2019 12:36:52 +0100

certcentral (0.7-1) stretch-wikimedia; urgency=medium

  Fix finalize_order() exception handling
  split base path in config and certificates path

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Thu, 15 Nov 2018 16:24:53 +0100

certcentral (0.6-1) stretch-wikimedia; urgency=medium

  Log order URI on non-recoverable finalization errors
  Evaluate order status after creation
  Stop using acme.client.poll_and_finalize()

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Fri, 09 Nov 2018 08:54:25 +0000

certcentral (0.5-1) stretch-wikimedia; urgency=medium

  Stop abusing SELF_SIGNED status to signal errors
  Report certificate status on config (re)load

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Mon, 05 Nov 2018 16:33:38 +0000

certcentral (0.4-1) stretch-wikimedia; urgency=medium

  Avoid fast retry on local errors after cert is issued
  Implement slow retries on challenge rejection by ACME dir.

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Mon, 29 Oct 2018 16:32:29 +0100

certcentral (0.3-1) stretch-wikimedia; urgency=medium

  Track number of retries and apply exponential backoff.
  Avoid getting stuck on CHALLENGES_PUSHED status.

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Wed, 24 Oct 2018 18:51:25 +0200

certcentral (0.2-1) stretch-wikimedia; urgency=medium

  Allow verification DNS servers to be specified with hostnames.

 -- Valentin Gutierrez <vgutierrez@wikimedia.org>  Fri, 19 Oct 2018 13:38:14 +0100

certcentral (0.1-2) stretch-wikimedia; urgency=medium

  Add missing /etc/certcentral/accounts directory.

 -- Alex Monk <krenair@gmail.com>  Wed, 17 Oct 2018 18:39:48 +0100

certcentral (0.1-1) stretch-wikimedia; urgency=medium

  Initial release.

 -- Alex Monk <krenair@gmail.com>  Wed, 29 Aug 2018 22:27:17 +0100
